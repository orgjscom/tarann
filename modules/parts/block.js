var _timestamp_settings_query={},parts_cache={};module.exports=function(t){var e={data:function(e,a,r){var n=e.session.current_locale;return _timestamp_settings_query[n]&&Date.now()-_timestamp_settings_query[n]<=6e4&&parts_cache&&parts_cache[n]?r(parts_cache[n]):void t.get("mongodb").collection("parts").find({plang:n}).toArray(function(t,e){if(t)return{};if("undefined"!=typeof e&&e&&e.length){parts_cache[n]={};for(var a=0;a<e.length;a++)parts_cache[n][e[a].pname]=e[a].pvalue}_timestamp_settings_query[n]=Date.now(),r(parts_cache[n])})}};return e};