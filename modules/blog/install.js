module.exports=function(n,o,t){var e=require("async"),i={name:"blog",version:"0.5.170",collections:function(o){e.series([function(o){n.createCollection("blog",function(n,t){return n?o(n):void o()})},function(o){n.createCollection("blog_comments",function(n,t){return n?o(n):void o()})}],function(n){return n?o(n):void o()})},indexes:function(n){e.series([function(n){o("blog",["post_timestamp"],null,null,function(){o("blog",["post_moderated","post_filtered","post_draft","post_user_id","post_keywords","post_area","post_lang"],null,!0,function(){n()})})},function(n){o("blog_comments",["post_id","comment_timestamp"],null,!0,function(){n()})}],function(o){o&&n(o),n()})},defaults:function(o){e.series([function(o){n.collection("settings").insert({oname:"blog_mode",ovalue:"moderation",olang:""},function(n){return n?o(n):void o()})},function(o){n.collection("settings").insert({oname:"blog_areas",ovalue:'[{"id":"test","en":"Test blog area","ru":"Тестовый раздел"}]',olang:""},function(n){return n?o(n):void o()})}],function(n){return n?o(n):void o()})},misc:function(n){n()},uninstall:function(o){var t=["blog","blog_comments"];e.eachSeries(t,function(o,t){n.collection(o).drop(function(n){return n?t(n):void t()})},function(n){return n?o(n):void o()})}};return i};